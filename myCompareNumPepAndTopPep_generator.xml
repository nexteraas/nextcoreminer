
<tool id="myCompareNumPepAndTopPep_generator" name="Compare Number of Peptides and Prevalence of Top Peptides" version="0.1.0" python_template_version="3.5">
    <requirements>
	<requirement type="package" version="3">python</requirement>
    </requirements>
   
    <command detect_errors="exit_code"><![CDATA[
	    python3 '$__tool_directory__/myCompareNumPepAndTopPep.py' 
	    -f #for $q in $series# '${q.input}' #end for#
	    -rounds #for $q in $series# '${q.rounds}' #end for#
	    -title '$title' 
	    -o $InputType.option
	    -largest $InputType.largest

    ]]></command> 
    
<inputs>

	<repeat name="series" title="Peptides files">
    		<param name="input" type="data" format="txt" label="Dataset" help="The input should be a matrix file, containing Peptides, Total_Count and Frequency"/>
		<param name="rounds" type="text" data_ref="input" label="Rounds of the dataset:" help="e.g. R0, R1 or R2; Round 0, Round 1 or Round 2"/>
	</repeat>

	<param name="title" type="text" value="" label="Insert title of the plot if it is needed:"/>

	<conditional name="InputType">
		<param name="option" type="select" display="radio"  label="Do you want to select top XX peptides or top XX% of the peptides?" >
			<option value="TopNumber"> Top numbers</option>
			<option value="TopPercentage"> Top percentage</option>
		</param>
		<when value="TopNumber">
			<param type="text" name="largest" value="10" label="Top XX peptides:"/>
		</when>
		<when value="TopPercentage">
			<param type="text" name="largest" value="10" label="Top XX% of the peptides:"/>
		</when>
	</conditional>
	

</inputs>    

<outputs>

	<data name="output" format="pdf" from_work_dir="CompareNumPepAndTopPep.pdf"  label="Compare Number of Peptides and Prevalence of Top Peps plot"/>	
</outputs>

    <help><![CDATA[
        TODO: Fill in help.
    ]]></help>
</tool>
