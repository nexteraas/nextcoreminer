
<tool id="myMultipleDatasets_merger" name="Multiple Datasets Merger" version="0.1.0" python_template_version="3.5">
    <requirements>
	<requirement type="package" version="3">python</requirement>
    </requirements>
   
    <command detect_errors="exit_code"><![CDATA[
	    python3 '$__tool_directory__/myMultipleDatasets.py' 
	    -fInfoOption $FileInfo.FileInfoOption
	   
	    #if $FileInfo.FileInfoOption=="yes"
	    	-fInfo '$FileInfo.input'
	    #end if
	    
	    -f #for $q in $series# '${q.input}' #end for#

    ]]></command> 
    
<inputs>

	<repeat name="series" title="Datasets to merge:">
    		<param name="input" type="data" format="txt" label="Dataset" help="The input can be any data of interest."/>
	</repeat>
	<conditional name="FileInfo">
		<param name="FileInfoOption" type="select" display="radio" label="Do you have a file containing meta-data of peptides ?">
			<option value="no"> No</option>
			<option value="yes"> Yes</option>
		</param>
		<when value="yes">
			<param type="data" format = "txt" name="input" label="Your file, e.g. matrix file from 'Peptides Filter and Venn Generator':"/>
		</when>
	</conditional>

</inputs>    

<outputs>
	<data name="output1" format="txt" from_work_dir="merged_matrix.txt" label="Merged Matrix TXT"/>
	<data name="output2" format="json" from_work_dir="merged_matrix.json" label="Merged Matrix JSON"/>
</outputs>

    <help><![CDATA[
        TODO: Fill in help.
    ]]></help>
</tool>
